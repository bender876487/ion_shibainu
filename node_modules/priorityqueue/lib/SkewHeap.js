"use strict";var p=Object.defineProperty;var f=(r,o,t)=>o in r?p(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t;var n=(r,o,t)=>(f(r,typeof o!="symbol"?o+"":o,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("./comparator.21efe408.js");function g(r){return{value:r,left:null,right:null}}function u(r){return r?[...u(r.left),r.value,...u(r.right)]:[]}function l(r,o,t){if(!r||!o)return r||o;if(t(r.value,o.value)<0)return l(o,r,t);r.right=l(r.right,o,t);const e=r.right;return r.right=r.left,r.left=e,r}class h extends a.BasePriorityQueue{constructor({comparator:t=a.defaultComparator}={}){super("SkewHeap");n(this,"comparator");n(this,"root",null);n(this,"_length",0);this.comparator=t}static from(t,e={}){const i=new h(e);for(let s=0,c=t.length;s<c;++s)i.push(t[s]);return i}clear(){this._length=0,this.root=null}get length(){return this._length}push(t){this.root=l(this.root,g(t),this.comparator),this._length+=1}top(){if(!this.root)throw new Error("invalid operation: top() called for empty SkewHeap");return this.root.value}pop(){if(!this.root)throw new Error("invalid operation: pop() called for empty SkewHeap");const t=this.root.value;return this.root=l(this.root.right,this.root.left,this.comparator),this._length-=1,t}merge(t){if(t instanceof h&&this.comparator===t.comparator){this.root=l(this.root,t.root,this.comparator),this._length+=t.length,t.clear();return}for(let e=0,i=t.toArray(),s=i.length;e<s;++e)this.push(i[e]);t.clear()}toArray(){return u(this.root).sort(this.comparator)}isEmpty(){return!this.root}}exports.default=h;
//# sourceMappingURL=SkewHeap.js.map
